<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Math and Letters</title>
    <style>
        body {
            padding: 3rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .content {
            margin-top: 2rem;
        }

        .controls {
            margin-top: 2rem;
        }
    </style>
    <script src="https://www.geogebra.org/apps/deployggb.js"></script>
</head>

<body>
    <script>
        var ggbApp = new GGBApplet('5.0', { "id": "app", "filename": "ggb/first.ggb", "appName": "3d", "width": 600, "height": 500, "showToolBar": false, "showAlgebraInput": false, "showMenuBar": false, "showToolBarHelp": false, });

        window.addEventListener("load", function () {
            ggbApp.inject('ggb-element');
        });



    </script>
    <div class="header">
        Начертайте сечението през точки I, J и B
    </div>
    <div class="content">
        <div id="ggb-element"></div>
        <form class="controls">
            <label for="firstPoint">От точка: </label>
            <input id="firstPoint">
            <label for="secondPoint">До точка:</label>
            <input id="secondPoint">
            <input type="submit" value="Начертай">
        </form>
    </div>
    <script>
        let counter = 0
        let line = 'b'
        let form = document.getElementsByClassName("controls")[0]
        form.addEventListener("submit", function (e) {
            e.preventDefault()
            let firstPoint = document.getElementById('firstPoint').value;
            let secondPoint = document.getElementById('secondPoint').value
            let command = `${line}=Line(${firstPoint}, ${secondPoint})`
            app.evalCommand(command)
            app.refreshViews()
            line = String.fromCharCode(line.charCodeAt(0) + 1)
            if((firstPoint === 'I' && secondPoint === 'J') || (firstPoint === 'I' && secondPoint === 'B') || (firstPoint === 'J' && secondPoint === 'B') || (firstPoint === 'J' && secondPoint === 'I') || (firstPoint === 'B' && secondPoint === 'I') || (firstPoint === 'B' && secondPoint === 'J')) {
                counter++
                if(counter === 3) {
                    alert('congratulation')
                }
            }
        })
    </script>
</body>

</html>